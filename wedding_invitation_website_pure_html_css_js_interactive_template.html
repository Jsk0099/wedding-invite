<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JK Wedding Invitation</title>
  <meta name="description" content="Elegant, interactive wedding invitation website template in pure HTML, CSS, and JS." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
  
  <!-- Swiper (Image Carousel) -->
  <link rel="stylesheet" href="https://unpkg.com/swiper@9/swiper-bundle.min.css" />
  
  <!-- AOS (Animate on Scroll) -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />

  <!-- Leaflet (Map) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

  <style>
    :root{
      --bg: #0e0e10;
      --card: #151518;
      --muted: #9aa3b2;
      --text: #e9ecf1;
      --brand: #e6b17e;
      --brand-2: #b88746;
      --accent: #4cd4b0;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;scroll-behavior:smooth}
    a{color:inherit}
    img{max-width:100%;display:block}

    /* Layout */
    .container{width:min(1120px, 92%);margin-inline:auto}
    .section{padding:72px 0}
    .section h2{font-family:"Playfair Display", serif;font-size:clamp(28px, 4vw, 42px);margin:0 0 12px}
    .section .sub{color:var(--muted);margin:0 0 28px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.08);backdrop-filter: blur(6px);-webkit-backdrop-filter: blur(6px);border-radius:22px;box-shadow:0 10px 30px rgba(0,0,0,.25)}

    /* Nav */
    .nav{position:sticky;top:0;z-index:40;backdrop-filter:saturate(1.2) blur(8px);background:rgba(14,14,16,.6);border-bottom:1px solid rgba(255,255,255,0.08)}
    .nav .inner{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:12px 0}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700}
    .brand .logo{width:36px;height:36px;display:grid;place-items:center;border-radius:12px;background:radial-gradient(60% 60% at 50% 30%, var(--brand) 0%, var(--brand-2) 60%, #7c582b 100%);}
    .nav a{padding:8px 10px;border-radius:12px;text-decoration:none;color:var(--text);opacity:.9}
    .nav a:hover{background:rgba(255,255,255,0.06)}
    .nav .links{display:flex;flex-wrap:wrap;gap:4px}

    /* Hero */
    .hero{position:relative}
    .hero .overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,.5), rgba(0,0,0,.55));border-radius:22px}
    .hero-content{position:absolute;inset:0;display:grid;place-items:center;text-align:center;padding:24px}
    .names{font-family:"Playfair Display", serif;font-size:clamp(36px, 7vw, 64px);letter-spacing:.5px;margin:0}
    .date-badge{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);font-weight:600;margin-top:16px}
    .cta-row{margin-top:22px;display:flex;flex-wrap:wrap;gap:12px;justify-content:center}
    .btn{padding:12px 16px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);color:var(--text);cursor:pointer;font-weight:600}
    .btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.1)}
    .btn.primary{background:linear-gradient(135deg, var(--brand), var(--brand-2));color:#1b0f06;border:none}

    /* Countdown */
    .countdown{display:grid;grid-template-columns:repeat(4, minmax(0,1fr));gap:12px}
    .timebox{padding:16px;text-align:center}
    .timebox .num{font-size:clamp(24px, 5vw, 40px);font-weight:800}
    .timebox .lbl{color:var(--muted);font-weight:600;letter-spacing:.6px}

    /* Details grid */
    .grid{display:grid;gap:18px}
    .grid.cols-2{grid-template-columns: repeat(2, minmax(0,1fr))}
    .grid.cols-3{grid-template-columns: repeat(3, minmax(0,1fr))}
    @media (max-width: 900px){
      .grid.cols-2, .grid.cols-3{grid-template-columns:1fr}
    }

    /* Timeline */
    .timeline{position:relative;margin:0;padding:0;list-style:none}
    .timeline::before{content:"";position:absolute;left:20px;top:0;bottom:0;width:2px;background:linear-gradient(180deg, var(--brand), transparent)}
    .timeline li{position:relative;padding-left:64px;margin:28px 0}
    .timeline .dot{position:absolute;left:12px;top:6px;width:18px;height:18px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 6px rgba(230,177,126,.2)}
    .timeline h4{margin:0 0 6px;font-size:20px}
    .timeline p{margin:0;color:var(--muted)}

    /* Gallery */
    .gallery{display:grid;grid-template-columns:repeat(12, 1fr);gap:10px}
    .gallery img{border-radius:16px;height:100%;object-fit:cover;width:100%;cursor:pointer}
    .gallery .tall{grid-row: span 2}
    .gallery .wide{grid-column: span 2}
    .gallery .col-3{grid-column:span 3}
    .gallery .col-4{grid-column:span 4}
    .gallery .col-6{grid-column:span 6}
    @media (max-width: 900px){
      .gallery{grid-template-columns:repeat(6,1fr)}
      .gallery .col-6{grid-column:span 6}
      .gallery .col-4{grid-column:span 6}
      .gallery .col-3{grid-column:span 3}
    }

    /* Schedule */
    .schedule .event{display:grid;grid-template-columns:120px 1fr;gap:16px;padding:16px;border-radius:16px}
    .schedule .time{font-weight:800;font-size:18px}
    .schedule .where{color:var(--muted)}
    @media (max-width:700px){
      .schedule .event{grid-template-columns:1fr}
    }

    /* People grid */
    .people{display:grid;grid-template-columns:repeat(4, minmax(0,1fr));gap:16px}
    .person{padding:14px;text-align:center}
    .person img{width:120px;height:120px;border-radius:999px;margin:0 auto 10px;object-fit:cover}
    .person .role{color:var(--muted);font-size:14px}
    @media (max-width:900px){
      .people{grid-template-columns:repeat(2, minmax(0,1fr))}
    }

    /* Contact */
    form.contact{display:grid;gap:12px}
    .input{background:#101114;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px 14px;color:var(--text)}
    textarea.input{min-height:120px;resize:vertical}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;padding:20px;z-index:100}
    .lightbox img{max-width:min(1200px, 94vw);max-height:80vh;border-radius:16px}
    .lightbox .close{position:absolute;top:20px;right:20px;font-size:18px}

    /* Footer */
    footer{padding:36px 0;color:var(--muted)}

    /* Subtle floating accents */
    .floaty{position:absolute;inset:auto;pointer-events:none;opacity:.6;filter:blur(40px)}
    .floaty.one{top:-60px;right:20%;width:220px;height:220px;background:radial-gradient(circle at 30% 30%, var(--brand), transparent)}
    .floaty.two{bottom:-60px;left:10%;width:280px;height:280px;background:radial-gradient(circle at 60% 60%, var(--accent), transparent)}
  </style>
</head>
<body>
  <!-- Navigation -->
  <header class="nav">
    <div class="container inner">
      <div class="brand">
        <div class="logo">üíç</div>
        <div>JK &amp; Arya</div>
      </div>
      <nav class="links">
        <a href="#home">Home</a>
        <a href="#details">Date & Time</a>
        <a href="#venue">Venue</a>
        <a href="#story">Story</a>
        <a href="#gallery">Gallery</a>
        <a href="#schedule">Schedule</a>
        <a href="#family">Family</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>
  <!-- Hero / Carousel -->
  <section id="home" class="section">
    <div class="container">
      <div class="card hero" data-aos="zoom-in" data-aos-duration="1000">
        <div class="swiper" id="heroSwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1522673607200-164d1b6ce486?q=80&w=1600&auto=format&fit=crop" alt="Couple 1"/></div>
            <div class="swiper-slide"><img src="./bg1.png" alt="Couple 2"/></div>
            <div class="swiper-slide"><img src="./bg2.png" alt="Couple 3"/></div>
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
        <div class="overlay"></div>
        <div class="hero-content">
          <div>
            <h1 class="names" data-aos="fade-up" data-aos-delay="200">JK &amp; Arya</h1>
            <div class="date-badge" data-aos="fade-up" data-aos-delay="300">üóìÔ∏è <span id="weddingDateLabel">Sunday, 14 December 2025 ¬∑ 6:30 PM</span></div>
            <div class="cta-row" data-aos="fade-up" data-aos-delay="400">
              <button class="btn primary" id="rsvpBtn">RSVP</button>
              <button class="btn" id="addToCalendarBtn">Add to Calendar</button>
              <button class="btn" id="directionsBtn">Get Directions</button>
            </div>
          </div>
        </div>
        <div class="floaty one"></div>
        <div class="floaty two"></div>
      </div>
    </div>
  </section>

  <!-- Date & Time / Countdown -->
  <section id="details" class="section">
    <div class="container">
      <h2 data-aos="fade-right">Date & Time</h2>
      <p class="sub" data-aos="fade-right" data-aos-delay="100">We're excited to celebrate with you! The countdown has begun.</p>
      <div class="card" data-aos="flip-up">
        <div class="container" style="padding:20px">
          <div class="countdown" id="countdown">
            <div class="timebox card">
              <div class="num" id="days">--</div>
              <div class="lbl">Days</div>
            </div>
            <div class="timebox card">
              <div class="num" id="hours">--</div>
              <div class="lbl">Hours</div>
            </div>
            <div class="timebox card">
              <div class="num" id="minutes">--</div>
              <div class="lbl">Minutes</div>
            </div>
            <div class="timebox card">
              <div class="num" id="seconds">--</div>
              <div class="lbl">Seconds</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Venue + Map -->
  <section id="venue" class="section">
    <div class="container">
      <div class="grid cols-2">
        <div class="card" style="padding:22px" data-aos="fade-up-right">
          <h2>Venue</h2>
          <p class="sub">Royal Orchid Banquets, MG Road, Bengaluru, India</p>
          <p>Join us for the ceremony and reception at a beautiful venue with lush gardens and elegant halls.</p>
          <div style="display:flex;gap:10px;margin-top:12px">
            <button class="btn" id="copyAddressBtn">Copy Address</button>
            <a class="btn" id="openMapsLink" target="_blank" rel="noopener">Open in Google Maps</a>
          </div>
        </div>
        <div class="card" data-aos="fade-up-left" style="overflow:hidden">
          <div id="map" style="height:360px;border-radius:22px"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Storyline / Timeline -->
  <section id="story" class="section">
    <div class="container">
      <h2 data-aos="fade-right">Our Story</h2>
      <p class="sub" data-aos="fade-right" data-aos-delay="100">A little timeline of how we got here.</p>
      <ul class="timeline">
        <li data-aos="fade-up"><span class="dot"></span>
          <h4>2018 ¬∑ First Meeting</h4>
          <p>Coffee, books, and a spark that never left.</p>
        </li>
        <li data-aos="fade-up" data-aos-delay="100"><span class="dot"></span>
          <h4>2019 ¬∑ First Trip</h4>
          <p>Wandered through mountains and street markets.</p>
        </li>
        <li data-aos="fade-up" data-aos-delay="200"><span class="dot"></span>
          <h4>2023 ¬∑ The Proposal</h4>
          <p>Under the city lights, we said yes.</p>
        </li>
        <li data-aos="fade-up" data-aos-delay="300"><span class="dot"></span>
          <h4>2025 ¬∑ The Wedding</h4>
          <p>Celebrating with our favourite people ‚Äî you!</p>
        </li>
      </ul>
    </div>
  </section>

  <!-- Extra Image Gallery -->
  <section id="gallery" class="section">
    <div class="container">
      <h2 data-aos="fade-right">Gallery</h2>
      <p class="sub" data-aos="fade-right" data-aos-delay="100">Some favourite memories.</p>
      <div class="gallery" data-aos="zoom-in-up">
        <div class="col-6"><img src="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1600&auto=format&fit=crop" alt="Gallery 1" class="lb"/></div>
        <div class="col-3"><img src="https://images.unsplash.com/photo-1519744792095-2f2205e87b6f?q=80&w=1200&auto=format&fit=crop" alt="Gallery 2" class="lb"/></div>
        <div class="col-3"><img src="https://images.unsplash.com/photo-1496439786094-e69797bd97b1?q=80&w=1200&auto=format&fit=crop" alt="Gallery 3" class="lb"/></div>
        <div class="col-4 tall"><img src="https://images.unsplash.com/photo-1517959105821-eaf2591984dd?q=80&w=1200&auto=format&fit=crop" alt="Gallery 4" class="lb"/></div>
        <div class="col-4"><img src="https://images.unsplash.com/photo-1519741498244-65f23f42a07b?q=80&w=1200&auto=format&fit=crop" alt="Gallery 5" class="lb"/></div>
        <div class="col-4 tall"><img src="https://images.unsplash.com/photo-1517957745829-c8884b89ee32?q=80&w=1200&auto=format&fit=crop" alt="Gallery 6" class="lb"/></div>
      </div>
    </div>
  </section>

  <!-- Schedule -->
  <section id="schedule" class="section">
    <div class="container">
      <h2 data-aos="fade-right">Event Schedule</h2>
      <p class="sub" data-aos="fade-right" data-aos-delay="100">All the moments we'll cherish.</p>
      <div class="grid cols-2 schedule">
        <div class="card event" data-aos="fade-up">
          <div class="time">10:00 AM</div>
          <div>
            <h3>Haldi Ceremony</h3>
            <div class="where">Garden Lawn ¬∑ Light brunch to follow</div>
          </div>
        </div>
        <div class="card event" data-aos="fade-up" data-aos-delay="100">
          <div class="time">01:00 PM</div>
          <div>
            <h3>Mehendi</h3>
            <div class="where">Orchid Hall ¬∑ Music & snacks</div>
          </div>
        </div>
        <div class="card event" data-aos="fade-up" data-aos-delay="200">
          <div class="time">06:30 PM</div>
          <div>
            <h3>Wedding Ceremony</h3>
            <div class="where">Main Pavilion</div>
          </div>
        </div>
        <div class="card event" data-aos="fade-up" data-aos-delay="300">
          <div class="time">08:00 PM</div>
          <div>
            <h3>Reception Dinner</h3>
            <div class="where">Grand Ballroom</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Family Details -->
  <section id="family" class="section">
    <div class="container">
      <h2 data-aos="fade-right">Bride &amp; Groom Families</h2>
      <p class="sub" data-aos="fade-right" data-aos-delay="100">With love and blessings from our families.</p>
      <div class="people">
        <div class="card person" data-aos="zoom-in">
          <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=600&auto=format&fit=crop" alt="Bride">
          <div class="name"><strong>Arya</strong></div>
          <div class="role">Bride</div>
        </div>
        <div class="card person" data-aos="zoom-in" data-aos-delay="100">
          <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=600&auto=format&fit=crop" alt="Groom">
          <div class="name"><strong>JK</strong></div>
          <div class="role">Groom</div>
        </div>
        <div class="card person" data-aos="zoom-in" data-aos-delay="200">
          <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=600&auto=format&fit=crop" alt="Parent">
          <div class="name"><strong>Ananya</strong></div>
          <div class="role">Bride's Mother</div>
        </div>
        <div class="card person" data-aos="zoom-in" data-aos-delay="300">
          <img src="https://images.unsplash.com/photo-1502685104226-ee32379fefbe?q=80&w=600&auto=format&fit=crop" alt="Parent">
          <div class="name"><strong>Rahul</strong></div>
          <div class="role">Groom's Father</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Us -->
  <section id="contact" class="section">
    <div class="container">
      <div class="grid cols-2">
        <div class="card" style="padding:22px" data-aos="fade-up-right">
          <h2>Contact Us</h2>
          <p class="sub">Questions, blessings, or song requests ‚Äî we‚Äôd love to hear from you!</p>
          <form class="contact" id="contactForm">
            <input class="input" name="name" placeholder="Your Name" required />
            <input class="input" name="phone" placeholder="Phone (optional)" />
            <textarea class="input" name="message" placeholder="Your Message" required></textarea>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <button class="btn primary" type="submit">Send Message</button>
              <button class="btn" type="button" id="whatsAppBtn">WhatsApp Us</button>
            </div>
          </form>
          <div id="contactStatus" style="margin-top:10px;color:var(--accent);"></div>
        </div>
        <div class="card" style="padding:22px" data-aos="fade-up-left">
          <h3>Quick Links</h3>
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
            <button class="btn" id="shareBtn">Share Invitation</button>
            <button class="btn" id="copyLinkBtn">Copy Website Link</button>
            <button class="btn" id="playMusicBtn">Play Music</button>
          </div>
          <audio id="bgm" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3c6880d513.mp3?filename=romantic-sentimental-113172.mp3"></audio>
          <p class="sub" style="margin-top:12px">Thank you for celebrating with us! ‚ú®</p>
        </div>
      </div>
    </div>
  </section>

  <div class="lightbox" id="lightbox">
    <button class="btn close" id="lightboxClose">Close ‚úï</button>
    <img id="lightboxImg" alt="Preview"/>
  </div>

  <footer>
    <div class="container">¬© 2025 JK &amp; Arya ‚Äî Built with love.</div>
  </footer>

  <!-- Scripts -->
  <script src="https://unpkg.com/swiper@9/swiper-bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <script>
    // ===== Config: Update these for your event =====
    const EVENT = {
      title: "JK & Arya Wedding",
      // Local time (YYYY-MM-DDTHH:MM) ‚Äî adjust to your timezone as needed
      dateTime: "2025-12-14T18:30", 
      venueTitle: "Royal Orchid Banquets",
      address: "Royal Orchid Banquets, MG Road, Bengaluru, India",
      lat: 12.9716,
      lng: 77.5946
    };

    // ===== Init AOS (animations) =====
    AOS.init({ once: true, offset: 80, duration: 800 });

    // ===== Swiper (hero carousel) =====
    const heroSwiper = new Swiper('#heroSwiper', {
      loop: true,
      autoplay: { delay: 3000 },
      pagination: { el: '.swiper-pagination', clickable: true },
      navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
      effect: 'fade',
      speed: 2000
    });

    // ===== Date label =====
    const dateFmt = new Date(EVENT.dateTime);
    document.getElementById('weddingDateLabel').textContent = dateFmt.toLocaleString(undefined, {
      weekday:'long', year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit'
    });

    // ===== Countdown =====
    const dEl = document.getElementById('days');
    const hEl = document.getElementById('hours');
    const mEl = document.getElementById('minutes');
    const sEl = document.getElementById('seconds');
    function tick(){
      const now = new Date();
      const diff = new Date(EVENT.dateTime) - now;
      if(diff <= 0){ dEl.textContent=hEl.textContent=mEl.textContent=sEl.textContent='00'; return; }
      const sec = Math.floor(diff/1000);
      const days = Math.floor(sec/86400);
      const hours = Math.floor((sec%86400)/3600);
      const mins = Math.floor((sec%3600)/60);
      const secs = sec%60;
      dEl.textContent = String(days).padStart(2,'0');
      hEl.textContent = String(hours).padStart(2,'0');
      mEl.textContent = String(mins).padStart(2,'0');
      sEl.textContent = String(secs).padStart(2,'0');
    }
    tick(); setInterval(tick, 1000);

    // ===== Leaflet Map =====
    const map = L.map('map', { scrollWheelZoom:false });
    map.setView([EVENT.lat, EVENT.lng], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);
    const marker = L.marker([EVENT.lat, EVENT.lng]).addTo(map);
    marker.bindPopup(`<strong>${EVENT.venueTitle}</strong><br>${EVENT.address}`);

    // Open in Google Maps & Copy Address
    const openMapsLink = document.getElementById('openMapsLink');
    openMapsLink.href = `https://www.google.com/maps?q=${encodeURIComponent(EVENT.address)}`;
    document.getElementById('copyAddressBtn').addEventListener('click', async () =>{
      await navigator.clipboard.writeText(EVENT.address);
      toast('Address copied to clipboard ‚úÖ');
    });

    // ===== Lightbox =====
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lightboxImg');
    const lbClose = document.getElementById('lightboxClose');
    document.querySelectorAll('img.lb').forEach(img => {
      img.addEventListener('click', ()=>{ lbImg.src = img.src; lb.style.display='flex'; });
    });
    lbClose.addEventListener('click', ()=> lb.style.display='none');
    lb.addEventListener('click', (e)=>{ if(e.target===lb) lb.style.display='none'; });

    // ===== RSVP (confetti) =====
    document.getElementById('rsvpBtn').addEventListener('click', ()=>{
      confetti({ particleCount: 120, spread: 70, origin: { y: .7 } });
      toast('Thanks for RSVP! We can‚Äôt wait to see you üéâ');
    });

    // ===== Add to Calendar (generate ICS) =====
    function download(filename, text){
      const el = document.createElement('a');
      el.setAttribute('href', 'data:text/calendar;charset=utf-8,' + encodeURIComponent(text));
      el.setAttribute('download', filename);
      el.style.display = 'none';
      document.body.appendChild(el); el.click(); document.body.removeChild(el);
    }
    document.getElementById('addToCalendarBtn').addEventListener('click', ()=>{
      const dt = new Date(EVENT.dateTime);
      const dtEnd = new Date(dt.getTime() + 3*60*60*1000); // 3 hours
      function toICSDate(d){
        const pad = (n)=> String(n).padStart(2,'0');
        return d.getUTCFullYear()+pad(d.getUTCMonth()+1)+pad(d.getUTCDate())+'T'+pad(d.getUTCHours())+pad(d.getUTCMinutes())+pad(d.getUTCSeconds())+'Z';
      }
      const ics = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//JK Wedding//Invitation//EN\nBEGIN:VEVENT\nUID:${Date.now()}@jkwedding\nDTSTAMP:${toICSDate(new Date())}\nDTSTART:${toICSDate(dt)}\nDTEND:${toICSDate(dtEnd)}\nSUMMARY:${EVENT.title}\nLOCATION:${EVENT.address}\nDESCRIPTION:We can‚Äôt wait to celebrate with you!\nEND:VEVENT\nEND:VCALENDAR`;
      download('JK-Arya-Wedding.ics', ics);
      toast('Calendar event downloaded üìÖ');
    });

    // ===== Get Directions =====
    document.getElementById('directionsBtn').addEventListener('click', ()=>{
      const url = `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(EVENT.address)}`;
      window.open(url, '_blank');
    });

    // ===== Contact form (mailto fallback) =====
    document.getElementById('contactForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const data = Object.fromEntries(new FormData(e.target).entries());
      const subject = encodeURIComponent(`${EVENT.title} ‚Äî Message from ${data.name || 'Guest'}`);
      const body = encodeURIComponent(`Name: ${data.name || ''}\nPhone: ${data.phone || ''}\nMessage: ${data.message || ''}`);
      window.location.href = `mailto:hello@example.com?subject=${subject}&body=${body}`;
      document.getElementById('contactStatus').textContent = 'Opening email app‚Ä¶';
    });

    // WhatsApp quick message
    document.getElementById('whatsAppBtn').addEventListener('click', ()=>{
      const text = encodeURIComponent(`Hi! I have a question about ${EVENT.title}.`);
      const url = `https://wa.me/919999999999?text=${text}`; // <- replace with your number
      window.open(url, '_blank');
    });

    // Share & Copy link
    const siteUrl = window.location.href;
    document.getElementById('copyLinkBtn').addEventListener('click', async ()=>{
      await navigator.clipboard.writeText(siteUrl);
      toast('Link copied ‚úÖ');
    });
    document.getElementById('shareBtn').addEventListener('click', async ()=>{
      if(navigator.share){
        try{ await navigator.share({ title: EVENT.title, text: 'Join us!', url: siteUrl }); }
        catch(e){ /* user canceled */ }
      }else{
        await navigator.clipboard.writeText(siteUrl);
        toast('Share not supported ‚Äî link copied!');
      }
    });

    // Play/Pause music
    const audio = document.getElementById('bgm');
    document.getElementById('playMusicBtn').addEventListener('click', async (e)=>{
      if(audio.paused){ await audio.play(); e.target.textContent='Pause Music'; toast('Music playing ‚ô´'); }
      else{ audio.pause(); e.target.textContent='Play Music'; }
    });

    // Small toast helper
    function toast(msg){
      const t = document.createElement('div');
      t.textContent = msg;
      t.style.cssText = 'position:fixed;left:50%;bottom:26px;transform:translateX(-50%);background:#111;border:1px solid rgba(255,255,255,.12);padding:10px 14px;border-radius:12px;z-index:2000;box-shadow:0 10px 30px rgba(0,0,0,.3)';
      document.body.appendChild(t);
      setTimeout(()=>{ t.style.transition='all .4s'; t.style.opacity='0'; t.style.transform='translateX(-50%) translateY(10px)'; }, 1600);
      setTimeout(()=> t.remove(), 2200);
    }
  </script>
</body>
</html>
